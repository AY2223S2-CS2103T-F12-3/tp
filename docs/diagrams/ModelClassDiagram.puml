@startuml
!include style.puml
skinparam arrowThickness 1.1
skinparam arrowColor MODEL_COLOR
skinparam classBackgroundColor MODEL_COLOR

Package Model <<Rectangle>>{
Class "<<interface>>\nReadOnlyAddressBook" as ReadOnlyAddressBook
Class "<<interface>>\nReadOnlyUserPrefs" as ReadOnlyUserPrefs
Class "<<interface>>\nModel" as Model
Class AddressBook
Class ModelManager
Class UserPrefs

Class UniquePersonList
Class Person
Class Address
Class Email
Class Name
Class Phone
Class Tag
Class CommunicationChannel
Class Faculty
Class Favorite
Class Gender
Class Major
Class Modules
Class Race
Class Tags
Class NusMod

Class Field
Class SuperField
}

Class HiddenOutside #FFFFFF
HiddenOutside ..> Model

AddressBook .up.|> ReadOnlyAddressBook

ModelManager .up.|> Model
Model .right.> ReadOnlyUserPrefs
Model .left.> ReadOnlyAddressBook
ModelManager -left-> "1" AddressBook
ModelManager -right-> "1" UserPrefs
UserPrefs .up.|> ReadOnlyUserPrefs

AddressBook *--> "1" UniquePersonList
UniquePersonList --> "~* all" Person
Person *--> Name
Person *--> Phone
Person *--> Email
Person *--> CommunicationChannel
Person *--> Faculty
Person *--> Favorite
Person *--> Major
Person *-right-> Modules
Modules *--> "*" NusMod
Person *--> Race
Person *-right-> Tags
Tags *--> "*" Tag

Field -up-|> Name
Field -up-|> Phone
Field -up-|> Email
Field -up-|> CommunicationChannel
Field -up-|> Faculty
Field -up-|> Favorite
Field -up-|> Major
Field --|> NusMod
Field -up-|> Race
Field -up-|> Tag

SuperField -up-|> Modules
SuperField -up-|> Tags

Name -[hidden]right-> Phone
Phone -[hidden]right-> Address
Address -[hidden]right-> Email

ModelManager -->"~* filtered" Person
@enduml
